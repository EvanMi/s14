<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .modal{
            position: fixed;
            top: 50%;
            left: 50%;
            width:500px;
            height: 400px;
            margin-top: -200px;
            margin-left:-250px;
            background-color: #eeeeee;
            z-index: 10;
        }
        .shadow{
            position: fixed;
            top:0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity:0.6;
            background-color: black;
            z-index: 9;
        }
        .hide{
            display: none;
        }
    </style>
</head>
<body>
<table border="1">
    <a onclick="addElement()">添加</a>
    <tr>
        <td>1.1.1.1</td>
        <td>80</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
        <tr>
        <td>1.1.1.1</td>
        <td>80</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
        <tr>
        <td>1.1.1.1</td>
        <td>80</td>
        <td><a>编辑</a>|<a class="del">删除</a></td>
    </tr>
        <tr>
        <td>1.1.1.1</td>
        <td>80</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
        <tr>
        <td>1.1.21.1</td>
        <td>80</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>    <tr>
        <td>1.1.1.1</td>
        <td>860</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>    <tr>
        <td>1.1.1.1</td>
        <td>810</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
    <tr>
        <td>1.1.1.1</td>
        <td>830</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
    <tr>
        <td>1.1.1.1</td>
        <td>820</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
    <tr>
        <td>1.1.1.3</td>
        <td>80</td>
        <td><a class="edit">编辑</a>|<a class="del">删除</a></td>
    </tr>
</table>
<div>
    <div class="modal hide">
        <p><input name="hostname" type="text" />
        <p><input type="text" />
        <p><input name="port" type="text" />
     <div>
        <input type="button" value="确定" onclick="confirmmodel()">
        <input type="button" value="隐藏" onclick="cancel()">
    </div>
    </div>

</div>
<div class="shadow hide"></div>
<script src="jquery.min.js"></script>
<script>
    function addElement() {
        $('.modal,.shadow').removeClass('hide');
         $('.modal input[type="text"]').val('');
        }
    function cancel(){
         $('.modal,.shadow').addClass('hide');
    }
    $('.edit').click(function () {
         $('.modal,.shadow').removeClass('hide');
        var pbs = $(this).parent().prevAll();
        var port =$(pbs[0]).text();
        var host =$(pbs[1]).text();
        console.info(pbs);
        $('.modal input[name="hostname"]').val(host);
        $('.modal input[name="port"]').val(port);
    });
    $('.del').click(function () {
        $(this).parent().parent().remove();
    });
    function confirmmodel() {
        var trv = document.createElement('tr');
        var tde = document.createElement('td');
        var a1 = document.createElement('a');
        var a2 = document.createElement('a');
        $(a1).text('编辑').addClass('edit');
        $(a2).text('删除').addClass('del').click(
            function () {
                 $(this).parent().parent().remove();
            }
        );
        tde.append(a1);
            tde.append('|');
                tde.append(a2);
        $(tde).addClass('');
        $('.modal input[type="text"]').each(function(){
            if($(this).val()!=""){
            var tdv = document.createElement('td');
            $(tdv).text($(this).val());
            $(trv).append(tdv);
            }
        });
        $(trv).append(tde);
        $('table tbody').append(trv);
        $('.modal,.shadow').addClass('hide');
    }
</script>
</body>
</html>